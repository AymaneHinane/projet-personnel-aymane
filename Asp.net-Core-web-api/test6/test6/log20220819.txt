2022-08-19 13:52:28.108 +01:00 INF] application starting
2022-08-19 13:52:28.224 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 13:52:28.477 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 13:52:28.477 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 13:52:28.479 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 13:52:28.479 +01:00 INF] Hosting environment: Development
2022-08-19 13:52:28.479 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 13:52:46.773 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-19 13:52:56.007 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-19 13:52:56.449 +01:00 INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-19 13:52:56.478 +01:00 INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-19 13:52:56.482 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-19 13:52:56.484 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-19 13:52:56.500 +01:00 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-19 13:52:56.512 +01:00 INF] Applying migration '20220819125247_update4'.
2022-08-19 13:52:56.817 +01:00 INF] Executed DbCommand (248ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'1628e2a9-acf3-4145-a467-5ae9a84001c3', N'b99036ed-688e-40b7-b952-17845168fea1', N'Administrator', N'ADMINISTRATOR');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-08-19 13:52:56.842 +01:00 INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'51ed61b9-c724-46b3-8be5-e9fa2bc60cdf', N'1d82dc6d-234f-47d8-a550-752e9e9ce326', N'User', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2022-08-19 13:52:56.848 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220819125247_update4', N'6.0.8');
2022-08-19 13:57:57.489 +01:00 INF] application starting
2022-08-19 13:57:57.647 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 13:57:58.176 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 13:57:58.176 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 13:57:58.180 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 13:57:58.180 +01:00 INF] Hosting environment: Development
2022-08-19 13:57:58.180 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 13:58:09.981 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/Account/Register application/json 208
2022-08-19 13:58:10.027 +01:00 INF] Executing endpoint 'test6.Controllers.AccountController.Register (test6)'
2022-08-19 13:58:10.049 +01:00 INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(test6.Models.DTO.UserDTO) on controller test6.Controllers.AccountController (test6).
2022-08-19 13:58:10.467 +01:00 INF] Registration Attemp for yohane@gmail.com
2022-08-19 13:58:11.501 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-19 13:58:12.359 +01:00 INF] Executed DbCommand (95ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-08-19 13:58:12.435 +01:00 INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2022-08-19 13:58:12.654 +01:00 INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2022-08-19 13:58:12.869 +01:00 INF] Executed DbCommand (157ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-08-19 13:58:12.936 +01:00 INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2022-08-19 13:58:12.945 +01:00 INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-08-19 13:58:12.982 +01:00 INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-08-19 13:58:12.989 +01:00 INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2022-08-19 13:58:13.054 +01:00 INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2022-08-19 13:58:13.090 +01:00 INF] Executed DbCommand (32ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2022-08-19 13:58:13.106 +01:00 INF] Executing AcceptedResult, writing value of type 'null'.
2022-08-19 13:58:13.111 +01:00 INF] Executed action test6.Controllers.AccountController.Register (test6) in 3058.5834ms
2022-08-19 13:58:13.112 +01:00 INF] Executed endpoint 'test6.Controllers.AccountController.Register (test6)'
2022-08-19 13:58:13.127 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/Account/Register application/json 208 - 202 0 - 3152.3601ms
2022-08-19 15:18:27.112 +01:00 INF] application starting
2022-08-19 15:18:27.198 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 15:18:27.471 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 15:18:27.471 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 15:18:27.474 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 15:18:27.474 +01:00 INF] Hosting environment: Development
2022-08-19 15:18:27.474 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 17:24:25.669 +01:00 INF] application starting
2022-08-19 17:24:25.772 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 17:24:26.044 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 17:24:26.044 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 17:24:26.046 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 17:24:26.046 +01:00 INF] Hosting environment: Development
2022-08-19 17:24:26.047 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 17:24:32.128 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client/1 - -
2022-08-19 17:24:32.190 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.GetClient (test6)'
2022-08-19 17:24:32.212 +01:00 INF] Route matched with {action = "GetClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClient(Int32) on controller test6.Controllers.ClientController (test6).
2022-08-19 17:24:33.470 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-19 17:24:34.528 +01:00 INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[EmailAddress], [c].[FirstName], [c].[LastName], [a].[Id], [a].[City], [a].[ClientId], [a].[Country], [a].[ZipCode]
FROM [Clients] AS [c]
LEFT JOIN [Addresses] AS [a] ON [c].[Id] = [a].[ClientId]
WHERE [c].[Id] = @__id_0
2022-08-19 17:24:34.590 +01:00 INF] Executing OkObjectResult, writing value of type 'test6.Models.DTO.AddressDTO'.
2022-08-19 17:24:34.695 +01:00 INF] Executed action test6.Controllers.ClientController.GetClient (test6) in 2479.0282ms
2022-08-19 17:24:34.697 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.GetClient (test6)'
2022-08-19 17:24:34.706 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client/1 - - - 200 114 application/json;+charset=utf-8 2580.7606ms
2022-08-19 17:31:54.558 +01:00 INF] application starting
2022-08-19 17:31:54.627 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 17:31:54.860 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 17:31:54.861 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 17:31:54.863 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 17:31:54.863 +01:00 INF] Hosting environment: Development
2022-08-19 17:31:54.863 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 17:32:47.136 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65
2022-08-19 17:32:47.181 +01:00 INF] Executing endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:32:47.207 +01:00 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(test6.Models.DTO.LoginUserDTO) on controller test6.Controllers.AccountController (test6).
2022-08-19 17:32:47.629 +01:00 INF] Login Attemp for yohane@gmail.com
2022-08-19 17:32:48.619 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-19 17:32:49.465 +01:00 INF] Executed DbCommand (96ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-08-19 17:32:49.689 +01:00 ERR] Something Went Wrong in the Login
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at System.Text.UTF8Encoding.UTF8EncodingSealed.GetBytes(String s)
   at test6.Services.AuthManager.AuthManager.GetSigningCredentials() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/AuthManager/AuthManager.cs:line 39
   at test6.Services.AuthManager.AuthManager.CreateToken() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/AuthManager/AuthManager.cs:line 29
   at test6.Controllers.AccountController.Login(LoginUserDTO userDTO) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/AccountController.cs:line 90
2022-08-19 17:32:49.716 +01:00 INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-08-19 17:32:49.766 +01:00 INF] Executed action test6.Controllers.AccountController.Login (test6) in 2554.9165ms
2022-08-19 17:32:49.767 +01:00 INF] Executed endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:32:49.777 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65 - 500 245 application/problem+json;+charset=utf-8 2644.6683ms
2022-08-19 17:36:07.399 +01:00 INF] application starting
2022-08-19 17:36:07.477 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 17:36:07.771 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 17:36:07.771 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 17:36:07.773 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 17:36:07.773 +01:00 INF] Hosting environment: Development
2022-08-19 17:36:07.773 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 17:36:12.207 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65
2022-08-19 17:36:12.253 +01:00 INF] Executing endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:36:12.278 +01:00 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(test6.Models.DTO.LoginUserDTO) on controller test6.Controllers.AccountController (test6).
2022-08-19 17:36:12.666 +01:00 INF] Login Attemp for yohane@gmail.com
2022-08-19 17:36:13.665 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-19 17:36:14.496 +01:00 INF] Executed DbCommand (99ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-08-19 17:36:14.716 +01:00 ERR] Something Went Wrong in the Login
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at System.Text.UTF8Encoding.UTF8EncodingSealed.GetBytes(String s)
   at test6.Services.AuthManager.AuthManager.GetSigningCredentials() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/AuthManager/AuthManager.cs:line 39
   at test6.Services.AuthManager.AuthManager.CreateToken() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/AuthManager/AuthManager.cs:line 29
   at test6.Controllers.AccountController.Login(LoginUserDTO userDTO) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/AccountController.cs:line 90
2022-08-19 17:36:14.740 +01:00 INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-08-19 17:36:14.792 +01:00 INF] Executed action test6.Controllers.AccountController.Login (test6) in 2509.6195ms
2022-08-19 17:36:14.793 +01:00 INF] Executed endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:36:14.803 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65 - 500 245 application/problem+json;+charset=utf-8 2600.1108ms
2022-08-19 17:39:34.670 +01:00 INF] application starting
2022-08-19 17:39:34.738 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 17:39:35.011 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 17:39:35.011 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 17:39:35.013 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 17:39:35.013 +01:00 INF] Hosting environment: Development
2022-08-19 17:39:35.013 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 17:39:38.742 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65
2022-08-19 17:39:38.791 +01:00 INF] Executing endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:39:38.816 +01:00 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(test6.Models.DTO.LoginUserDTO) on controller test6.Controllers.AccountController (test6).
2022-08-19 17:39:39.198 +01:00 INF] Login Attemp for yohane@gmail.com
2022-08-19 17:39:40.214 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-19 17:39:41.055 +01:00 INF] Executed DbCommand (87ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-08-19 17:39:41.271 +01:00 ERR] Something Went Wrong in the Login
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at System.Text.UTF8Encoding.UTF8EncodingSealed.GetBytes(String s)
   at test6.Services.AuthManager.AuthManager.GetSigningCredentials() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/AuthManager/AuthManager.cs:line 39
   at test6.Services.AuthManager.AuthManager.CreateToken() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/AuthManager/AuthManager.cs:line 29
   at test6.Controllers.AccountController.Login(LoginUserDTO userDTO) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/AccountController.cs:line 90
2022-08-19 17:39:41.297 +01:00 INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-08-19 17:39:41.351 +01:00 INF] Executed action test6.Controllers.AccountController.Login (test6) in 2530.6404ms
2022-08-19 17:39:41.352 +01:00 INF] Executed endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:39:41.363 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65 - 500 245 application/problem+json;+charset=utf-8 2625.5473ms
2022-08-19 17:40:46.349 +01:00 INF] application starting
2022-08-19 17:40:46.418 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 17:40:46.680 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 17:40:46.680 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 17:40:46.683 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 17:40:46.683 +01:00 INF] Hosting environment: Development
2022-08-19 17:40:46.683 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 17:40:50.401 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65
2022-08-19 17:40:50.447 +01:00 INF] Executing endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:40:50.473 +01:00 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(test6.Models.DTO.LoginUserDTO) on controller test6.Controllers.AccountController (test6).
2022-08-19 17:40:50.856 +01:00 INF] Login Attemp for yohane@gmail.com
2022-08-19 17:40:51.865 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-19 17:40:52.710 +01:00 INF] Executed DbCommand (83ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-08-19 17:40:53.252 +01:00 INF] Executed DbCommand (324ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-08-19 17:40:53.372 +01:00 INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-08-19 17:40:53.414 +01:00 INF] Executed action test6.Controllers.AccountController.Login (test6) in 2937.5572ms
2022-08-19 17:40:53.415 +01:00 INF] Executed endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:40:53.426 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65 - 202 317 application/json;+charset=utf-8 3028.4261ms
2022-08-19 17:44:44.823 +01:00 INF] application starting
2022-08-19 17:44:44.892 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 17:44:45.155 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 17:44:45.155 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 17:44:45.158 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 17:44:45.158 +01:00 INF] Hosting environment: Development
2022-08-19 17:44:45.158 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 17:44:50.008 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client/1 - -
2022-08-19 17:44:50.075 +01:00 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-08-19 17:44:50.191 +01:00 INF] AuthenticationScheme: Bearer was challenged.
2022-08-19 17:44:50.198 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client/1 - - - 401 0 - 193.0449ms
2022-08-19 17:45:47.317 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client/1 - -
2022-08-19 17:45:47.326 +01:00 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-08-19 17:45:47.494 +01:00 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-19 17:45:47.515 +01:00 INF] AuthenticationScheme: Bearer was challenged.
2022-08-19 17:45:47.516 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client/1 - - - 401 0 - 199.2392ms
2022-08-19 17:45:51.680 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client/1 - -
2022-08-19 17:45:51.682 +01:00 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-08-19 17:45:51.684 +01:00 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-19 17:45:51.685 +01:00 INF] AuthenticationScheme: Bearer was challenged.
2022-08-19 17:45:51.685 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client/1 - - - 401 0 - 4.9837ms
2022-08-19 17:46:58.148 +01:00 INF] application starting
2022-08-19 17:46:58.220 +01:00 INF] User profile is available. Using '/Users/aymanehinane/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-19 17:46:58.509 +01:00 INF] Now listening on: https://localhost:7000
2022-08-19 17:46:58.509 +01:00 INF] Now listening on: http://localhost:5008
2022-08-19 17:46:58.512 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-19 17:46:58.512 +01:00 INF] Hosting environment: Development
2022-08-19 17:46:58.512 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-19 17:47:01.241 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client/1 - -
2022-08-19 17:47:01.510 +01:00 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-19 17:47:01.527 +01:00 INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2022-08-19 17:47:01.531 +01:00 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-08-19 17:47:01.538 +01:00 INF] AuthenticationScheme: Bearer was challenged.
2022-08-19 17:47:01.544 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client/1 - - - 401 0 - 305.6002ms
2022-08-19 17:47:05.145 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65
2022-08-19 17:47:05.155 +01:00 INF] Executing endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:47:05.183 +01:00 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(test6.Models.DTO.LoginUserDTO) on controller test6.Controllers.AccountController (test6).
2022-08-19 17:47:05.540 +01:00 INF] Login Attemp for yohane@gmail.com
2022-08-19 17:47:06.544 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-19 17:47:07.398 +01:00 INF] Executed DbCommand (86ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-08-19 17:47:07.588 +01:00 INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-08-19 17:47:07.624 +01:00 INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-08-19 17:47:07.665 +01:00 INF] Executed action test6.Controllers.AccountController.Login (test6) in 2478.4544ms
2022-08-19 17:47:07.666 +01:00 INF] Executed endpoint 'test6.Controllers.AccountController.Login (test6)'
2022-08-19 17:47:07.676 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/Account/Login application/json 65 - 202 317 application/json;+charset=utf-8 2530.3891ms
2022-08-19 17:47:19.861 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client/1 - -
2022-08-19 17:47:19.865 +01:00 INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-19 17:47:19.866 +01:00 INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2022-08-19 17:47:19.867 +01:00 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-08-19 17:47:19.868 +01:00 INF] AuthenticationScheme: Bearer was challenged.
2022-08-19 17:47:19.868 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client/1 - - - 401 0 - 7.2977ms
