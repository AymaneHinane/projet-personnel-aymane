2022-08-25 12:59:38.666 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/client/1060 application/json 197
2022-08-25 12:59:38.806 +01:00 INF] Executing endpoint '405 HTTP Method Not Supported'
2022-08-25 12:59:38.807 +01:00 INF] Executed endpoint '405 HTTP Method Not Supported'
2022-08-25 12:59:38.892 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/client/1060 application/json 197 - 405 0 - 232.5636ms
2022-08-25 13:00:19.434 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/client/1060 application/json 197
2022-08-25 13:00:19.440 +01:00 INF] Executing endpoint '405 HTTP Method Not Supported'
2022-08-25 13:00:19.440 +01:00 INF] Executed endpoint '405 HTTP Method Not Supported'
2022-08-25 13:00:19.441 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/client/1060 application/json 197 - 405 0 - 7.7724ms
2022-08-25 13:00:44.062 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/client application/json 197
2022-08-25 13:00:44.074 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:00:44.151 +01:00 INF] Route matched with {action = "CreateClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClient(test6.Models.DTO.CreateClientDTO) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:00:45.643 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:00:46.515 +01:00 INF] Executed DbCommand (108ms) [Parameters=[@p0='?' (Size = 60), @p1='?' (Size = 30), @p2='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clients] ([EmailAddress], [FirstName], [LastName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Clients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:00:46.675 +01:00 INF] Executed DbCommand (106ms) [Parameters=[@p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [ClientId], [Country], [ZipCode])
VALUES (@p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Addresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:00:46.736 +01:00 INF] Executing CreatedAtRouteResult, writing value of type 'test6.Models.Client'.
2022-08-25 13:00:46.798 +01:00 INF] Executed action test6.Controllers.ClientController.CreateClient (test6) in 2642.5966ms
2022-08-25 13:00:46.799 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:00:46.806 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/client application/json 197 - 201 194 application/json;+charset=utf-8 2744.5862ms
2022-08-25 13:01:19.168 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client - -
2022-08-25 13:01:19.187 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:01:19.202 +01:00 INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients(test6.Models.RequestParams) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:01:19.293 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:01:19.950 +01:00 INF] Executed DbCommand (157ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2022-08-25 13:01:19.978 +01:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-25 13:01:19.979 +01:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-25 13:01:20.035 +01:00 INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[EmailAddress], [c].[FirstName], [c].[LastName]
FROM [Clients] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-25 13:01:20.056 +01:00 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[test6.Models.DTO.ClientInfoDTO, test6, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-25 13:01:20.060 +01:00 INF] Executed action test6.Controllers.ClientController.GetClients (test6) in 858.2237ms
2022-08-25 13:01:20.060 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:01:20.060 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client - - - 200 141 application/json;+charset=utf-8 892.6340ms
2022-08-25 13:03:04.461 +01:00 INF] application starting
2022-08-25 13:03:04.741 +01:00 INF] Now listening on: https://localhost:7000
2022-08-25 13:03:04.744 +01:00 INF] Now listening on: http://localhost:5008
2022-08-25 13:03:04.746 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-25 13:03:04.746 +01:00 INF] Hosting environment: Development
2022-08-25 13:03:04.746 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-25 13:03:08.257 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client - -
2022-08-25 13:03:08.317 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:03:08.343 +01:00 INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients(test6.Models.RequestParams) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:03:09.612 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:03:10.351 +01:00 INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2022-08-25 13:03:10.425 +01:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-25 13:03:10.425 +01:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-25 13:03:10.650 +01:00 INF] Executed DbCommand (121ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[EmailAddress], [t].[FirstName], [t].[LastName], [a].[Id], [a].[City], [a].[ClientId], [a].[Country], [a].[ZipCode]
FROM (
    SELECT [c].[Id], [c].[EmailAddress], [c].[FirstName], [c].[LastName]
    FROM [Clients] AS [c]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Addresses] AS [a] ON [t].[Id] = [a].[ClientId]
2022-08-25 13:03:10.690 +01:00 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[test6.Models.DTO.ClientInfoDTO, test6, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-25 13:03:10.808 +01:00 INF] Executed action test6.Controllers.ClientController.GetClients (test6) in 2461.2903ms
2022-08-25 13:03:10.810 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:03:10.820 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client - - - 200 155 application/json;+charset=utf-8 2566.3495ms
2022-08-25 13:03:19.943 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client/1061 - -
2022-08-25 13:03:19.944 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.GetClient (test6)'
2022-08-25 13:03:19.950 +01:00 INF] Route matched with {action = "GetClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClient(Int32) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:03:19.994 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:03:20.106 +01:00 INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[EmailAddress], [c].[FirstName], [c].[LastName], [a].[Id], [a].[City], [a].[ClientId], [a].[Country], [a].[ZipCode]
FROM [Clients] AS [c]
LEFT JOIN [Addresses] AS [a] ON [c].[Id] = [a].[ClientId]
WHERE [c].[Id] = @__id_0
2022-08-25 13:03:20.131 +01:00 INF] Executing OkObjectResult, writing value of type 'test6.Models.DTO.ClientInfoDTO'.
2022-08-25 13:03:20.131 +01:00 INF] Executed action test6.Controllers.ClientController.GetClient (test6) in 181.2386ms
2022-08-25 13:03:20.131 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.GetClient (test6)'
2022-08-25 13:03:20.132 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client/1061 - - - 200 76 application/json;+charset=utf-8 188.9474ms
2022-08-25 13:04:42.534 +01:00 INF] application starting
2022-08-25 13:04:42.940 +01:00 INF] Now listening on: https://localhost:7000
2022-08-25 13:04:42.945 +01:00 INF] Now listening on: http://localhost:5008
2022-08-25 13:04:42.953 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-25 13:04:42.954 +01:00 INF] Hosting environment: Development
2022-08-25 13:04:42.954 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-25 13:04:47.286 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client - -
2022-08-25 13:04:47.358 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:04:47.392 +01:00 INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients(test6.Models.RequestParams) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:04:47.834 +01:00 INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-08-25 13:04:47.959 +01:00 INF] Executed action test6.Controllers.ClientController.GetClients (test6) in 562.8515ms
2022-08-25 13:04:47.963 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:04:47.970 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client - - - 400 30 application/json;+charset=utf-8 688.6663ms
2022-08-25 13:05:03.589 +01:00 INF] application starting
2022-08-25 13:05:03.964 +01:00 INF] Now listening on: https://localhost:7000
2022-08-25 13:05:03.967 +01:00 INF] Now listening on: http://localhost:5008
2022-08-25 13:05:03.970 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-25 13:05:03.970 +01:00 INF] Hosting environment: Development
2022-08-25 13:05:03.970 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-25 13:05:06.799 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client - -
2022-08-25 13:05:06.876 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:05:06.904 +01:00 INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients(test6.Models.RequestParams) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:05:07.277 +01:00 INF] Executed action test6.Controllers.ClientController.GetClients (test6) in 368.3252ms
2022-08-25 13:05:07.280 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:05:07.284 +01:00 ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at test6.Controllers.ClientController.GetClients(RequestParams requestParams) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:05:07.312 +01:00 ERR] Something Went Wrong in the System.Exception: Exception of type 'System.Exception' was thrown.
   at test6.Controllers.ClientController.GetClients(RequestParams requestParams) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:05:07.420 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client - - - 500 - application/json 627.4578ms
2022-08-25 13:06:35.066 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client - -
2022-08-25 13:06:35.073 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:06:35.076 +01:00 INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients(test6.Models.RequestParams) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:06:35.136 +01:00 INF] Executed action test6.Controllers.ClientController.GetClients (test6) in 60.0162ms
2022-08-25 13:06:35.136 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:06:35.136 +01:00 ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at test6.Controllers.ClientController.GetClients(RequestParams requestParams) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:06:35.140 +01:00 ERR] Something Went Wrong in the System.Exception: Exception of type 'System.Exception' was thrown.
   at test6.Controllers.ClientController.GetClients(RequestParams requestParams) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:06:35.143 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client - - - 500 - application/json 76.9264ms
2022-08-25 13:06:47.786 +01:00 INF] application starting
2022-08-25 13:06:48.084 +01:00 INF] Now listening on: https://localhost:7000
2022-08-25 13:06:48.087 +01:00 INF] Now listening on: http://localhost:5008
2022-08-25 13:06:48.089 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-25 13:06:48.089 +01:00 INF] Hosting environment: Development
2022-08-25 13:06:48.089 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-25 13:06:48.653 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client - -
2022-08-25 13:06:48.717 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:06:48.742 +01:00 INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients(test6.Models.RequestParams) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:06:49.988 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:06:50.729 +01:00 INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2022-08-25 13:06:50.803 +01:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-25 13:06:50.804 +01:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-25 13:06:50.956 +01:00 INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[EmailAddress], [t].[FirstName], [t].[LastName], [a].[Id], [a].[City], [a].[ClientId], [a].[Country], [a].[ZipCode]
FROM (
    SELECT [c].[Id], [c].[EmailAddress], [c].[FirstName], [c].[LastName]
    FROM [Clients] AS [c]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Addresses] AS [a] ON [t].[Id] = [a].[ClientId]
2022-08-25 13:06:50.991 +01:00 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[test6.Models.DTO.ClientInfoDTO, test6, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-25 13:06:51.104 +01:00 INF] Executed action test6.Controllers.ClientController.GetClients (test6) in 2358.6127ms
2022-08-25 13:06:51.105 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:06:51.115 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client - - - 200 155 application/json;+charset=utf-8 2465.3781ms
2022-08-25 13:17:38.461 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/client application/json 196
2022-08-25 13:17:38.482 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:17:38.517 +01:00 INF] Route matched with {action = "CreateClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClient(test6.Models.DTO.CreateClientDTO) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:17:38.706 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:17:39.233 +01:00 ERR] Failed executing DbCommand (153ms) [Parameters=[@p0='?' (Size = 60), @p1='?' (Size = 30), @p2='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clients] ([EmailAddress], [FirstName], [LastName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Clients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:17:39.313 +01:00 ERR] An exception occurred in the database while saving changes for context type 'test6.DB.DBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_EmailAddress'. The duplicate key value is (aymanehinane@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fc197929-fc43-4d46-8cf9-c5077f89b041
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_EmailAddress'. The duplicate key value is (aymanehinane@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fc197929-fc43-4d46-8cf9-c5077f89b041
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-25 13:17:39.473 +01:00 INF] Executed action test6.Controllers.ClientController.CreateClient (test6) in 955.4453ms
2022-08-25 13:17:39.473 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:17:39.475 +01:00 ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_EmailAddress'. The duplicate key value is (aymanehinane@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fc197929-fc43-4d46-8cf9-c5077f89b041
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at test6.Services.IUnitOfWork.UnitOfWork.Save() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/IUnitOfWork/UnitOfWork.cs:line 39
   at test6.Controllers.ClientController.CreateClient(CreateClientDTO createClientDTO) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:17:39.489 +01:00 ERR] Something Went Wrong in the Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_EmailAddress'. The duplicate key value is (aymanehinane@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fc197929-fc43-4d46-8cf9-c5077f89b041
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at test6.Services.IUnitOfWork.UnitOfWork.Save() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/IUnitOfWork/UnitOfWork.cs:line 39
   at test6.Controllers.ClientController.CreateClient(CreateClientDTO createClientDTO) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:17:39.493 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/client application/json 196 - 500 - application/json 1034.0640ms
2022-08-25 13:18:33.538 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/client application/json 195
2022-08-25 13:18:33.545 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:18:33.547 +01:00 INF] Route matched with {action = "CreateClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClient(test6.Models.DTO.CreateClientDTO) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:18:33.575 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:18:33.798 +01:00 ERR] Failed executing DbCommand (202ms) [Parameters=[@p0='?' (Size = 60), @p1='?' (Size = 30), @p2='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clients] ([EmailAddress], [FirstName], [LastName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Clients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:18:33.807 +01:00 ERR] An exception occurred in the database while saving changes for context type 'test6.DB.DBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_FirstName'. The duplicate key value is (aymane).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fc197929-fc43-4d46-8cf9-c5077f89b041
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_FirstName'. The duplicate key value is (aymane).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fc197929-fc43-4d46-8cf9-c5077f89b041
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-25 13:18:33.881 +01:00 INF] Executed action test6.Controllers.ClientController.CreateClient (test6) in 334.1448ms
2022-08-25 13:18:33.882 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:18:33.882 +01:00 ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_FirstName'. The duplicate key value is (aymane).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fc197929-fc43-4d46-8cf9-c5077f89b041
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at test6.Services.IUnitOfWork.UnitOfWork.Save() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/IUnitOfWork/UnitOfWork.cs:line 39
   at test6.Controllers.ClientController.CreateClient(CreateClientDTO createClientDTO) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:18:33.886 +01:00 ERR] Something Went Wrong in the Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Clients' with unique index 'IX_Clients_FirstName'. The duplicate key value is (aymane).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fc197929-fc43-4d46-8cf9-c5077f89b041
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at test6.Services.IUnitOfWork.UnitOfWork.Save() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/IUnitOfWork/UnitOfWork.cs:line 39
   at test6.Controllers.ClientController.CreateClient(CreateClientDTO createClientDTO) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:18:33.888 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/client application/json 195 - 500 - application/json 349.7807ms
2022-08-25 13:19:50.612 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/client application/json 193
2022-08-25 13:19:50.614 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:19:50.615 +01:00 INF] Route matched with {action = "CreateClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClient(test6.Models.DTO.CreateClientDTO) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:19:50.624 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:19:50.866 +01:00 INF] Executed DbCommand (160ms) [Parameters=[@p0='?' (Size = 60), @p1='?' (Size = 30), @p2='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clients] ([EmailAddress], [FirstName], [LastName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Clients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:19:50.979 +01:00 INF] Executed DbCommand (14ms) [Parameters=[@p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [ClientId], [Country], [ZipCode])
VALUES (@p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Addresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:19:51.050 +01:00 INF] Executing CreatedAtRouteResult, writing value of type 'test6.Models.Client'.
2022-08-25 13:19:51.101 +01:00 INF] Executed action test6.Controllers.ClientController.CreateClient (test6) in 485.9119ms
2022-08-25 13:19:51.101 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:19:51.101 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/client application/json 193 - 201 190 application/json;+charset=utf-8 490.5257ms
2022-08-25 13:21:07.440 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:21:08.159 +01:00 INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:08.200 +01:00 INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:08.221 +01:00 INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:21:08.232 +01:00 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:08.239 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:08.247 +01:00 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:08.255 +01:00 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:08.267 +01:00 INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:21:08.287 +01:00 INF] Reverting migration '20220819125247_update4'.
2022-08-25 13:21:08.575 +01:00 INF] Executed DbCommand (222ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'1628e2a9-acf3-4145-a467-5ae9a84001c3';
SELECT @@ROWCOUNT;
2022-08-25 13:21:08.587 +01:00 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'51ed61b9-c724-46b3-8be5-e9fa2bc60cdf';
SELECT @@ROWCOUNT;
2022-08-25 13:21:08.593 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20220819125247_update4';
2022-08-25 13:21:17.763 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:21:18.303 +01:00 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:18.327 +01:00 INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:18.336 +01:00 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:21:18.341 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:18.342 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:18.344 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:18.345 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:18.347 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:21:18.358 +01:00 INF] Reverting migration '20220818154721_update3'.
2022-08-25 13:21:18.627 +01:00 INF] Executed DbCommand (237ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'FirstName');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [AspNetUsers] DROP COLUMN [FirstName];
2022-08-25 13:21:18.653 +01:00 INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'LastName');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [AspNetUsers] DROP COLUMN [LastName];
2022-08-25 13:21:18.656 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20220818154721_update3';
2022-08-25 13:21:24.880 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:21:25.623 +01:00 INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:25.659 +01:00 INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:25.675 +01:00 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:21:25.683 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:25.687 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:25.689 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:25.692 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:25.696 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:21:25.711 +01:00 INF] Reverting migration '20220817121434_update2'.
2022-08-25 13:21:25.768 +01:00 INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [AspNetRoleClaims];
2022-08-25 13:21:25.775 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [AspNetUserClaims];
2022-08-25 13:21:25.780 +01:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [AspNetUserLogins];
2022-08-25 13:21:25.786 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [AspNetUserRoles];
2022-08-25 13:21:25.790 +01:00 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [AspNetUserTokens];
2022-08-25 13:21:25.795 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [AspNetRoles];
2022-08-25 13:21:25.802 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [AspNetUsers];
2022-08-25 13:21:25.804 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20220817121434_update2';
2022-08-25 13:21:31.877 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:21:32.398 +01:00 INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:32.420 +01:00 INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:32.427 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:21:32.432 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:32.433 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:32.435 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:21:32.436 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:21:32.438 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:21:32.449 +01:00 INF] Reverting migration '20220816173046_update1'.
2022-08-25 13:21:32.513 +01:00 INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] DROP CONSTRAINT [FK_Addresses_Clients_ClientId];
2022-08-25 13:21:32.519 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Addresses_ClientId] ON [Addresses];
2022-08-25 13:21:32.538 +01:00 INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Addresses]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2022-08-25 13:21:32.548 +01:00 INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Clients]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2022-08-25 13:21:32.588 +01:00 INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'Ranting');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Products] DROP COLUMN [Ranting];
2022-08-25 13:21:32.610 +01:00 INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Addresses]') AND [c].[name] = N'ClientId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Addresses] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Addresses] DROP COLUMN [ClientId];
2022-08-25 13:21:32.616 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stores] ADD [AddressId] int NOT NULL DEFAULT 0;
2022-08-25 13:21:32.623 +01:00 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Clients] ADD [AddressId] int NOT NULL DEFAULT 0;
2022-08-25 13:21:32.635 +01:00 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Stores_AddressId] ON [Stores] ([AddressId]);
2022-08-25 13:21:32.726 +01:00 ERR] Failed executing DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Clients_AddressId] ON [Clients] ([AddressId]);
2022-08-25 13:21:55.144 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:22:10.395 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:22:10.708 +01:00 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:22:10.734 +01:00 INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:22:10.740 +01:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:22:10.743 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:22:10.760 +01:00 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:22:10.772 +01:00 INF] Applying migration '20220825122155_update2'.
2022-08-25 13:22:10.834 +01:00 INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220825122155_update2', N'6.0.8');
2022-08-25 13:22:31.378 +01:00 INF] application starting
2022-08-25 13:22:31.770 +01:00 INF] Now listening on: https://localhost:7000
2022-08-25 13:22:31.772 +01:00 INF] Now listening on: http://localhost:5008
2022-08-25 13:22:31.775 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-25 13:22:31.775 +01:00 INF] Hosting environment: Development
2022-08-25 13:22:31.775 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-25 13:22:35.862 +01:00 INF] Request starting HTTP/1.1 GET https://localhost:7000/api/client - -
2022-08-25 13:22:35.931 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:22:35.957 +01:00 INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClients(test6.Models.RequestParams) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:22:37.401 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:22:38.347 +01:00 INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2022-08-25 13:22:38.424 +01:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-25 13:22:38.424 +01:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-25 13:22:38.606 +01:00 INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[EmailAddress], [t].[FirstName], [t].[LastName], [a].[Id], [a].[City], [a].[ClientId], [a].[Country], [a].[ZipCode]
FROM (
    SELECT [c].[Id], [c].[EmailAddress], [c].[FirstName], [c].[LastName]
    FROM [Clients] AS [c]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Addresses] AS [a] ON [t].[Id] = [a].[ClientId]
2022-08-25 13:22:38.642 +01:00 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[test6.Models.DTO.ClientInfoDTO, test6, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-25 13:22:38.754 +01:00 INF] Executed action test6.Controllers.ClientController.GetClients (test6) in 2793.3764ms
2022-08-25 13:22:38.755 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.GetClients (test6)'
2022-08-25 13:22:38.764 +01:00 INF] Request finished HTTP/1.1 GET https://localhost:7000/api/client - - - 200 229 application/json;+charset=utf-8 2908.4496ms
2022-08-25 13:23:14.837 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/client application/json 193
2022-08-25 13:23:14.841 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:23:14.849 +01:00 INF] Route matched with {action = "CreateClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClient(test6.Models.DTO.CreateClientDTO) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:23:14.963 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:23:15.226 +01:00 INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (Size = 60), @p1='?' (Size = 30), @p2='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clients] ([EmailAddress], [FirstName], [LastName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Clients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:23:15.339 +01:00 INF] Executed DbCommand (75ms) [Parameters=[@p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [ClientId], [Country], [ZipCode])
VALUES (@p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Addresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:23:15.381 +01:00 INF] Executing CreatedAtRouteResult, writing value of type 'test6.Models.Client'.
2022-08-25 13:23:15.404 +01:00 INF] Executed action test6.Controllers.ClientController.CreateClient (test6) in 553.5241ms
2022-08-25 13:23:15.404 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:23:15.405 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/client application/json 193 - 201 190 application/json;+charset=utf-8 568.4209ms
2022-08-25 13:23:36.098 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/client application/json 193
2022-08-25 13:23:36.105 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:23:36.115 +01:00 INF] Route matched with {action = "CreateClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClient(test6.Models.DTO.CreateClientDTO) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:23:36.134 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:23:36.313 +01:00 INF] Executed DbCommand (99ms) [Parameters=[@p0='?' (Size = 60), @p1='?' (Size = 30), @p2='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clients] ([EmailAddress], [FirstName], [LastName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Clients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:23:36.322 +01:00 INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [ClientId], [Country], [ZipCode])
VALUES (@p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Addresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:23:36.330 +01:00 INF] Executing CreatedAtRouteResult, writing value of type 'test6.Models.Client'.
2022-08-25 13:23:36.331 +01:00 INF] Executed action test6.Controllers.ClientController.CreateClient (test6) in 216.2017ms
2022-08-25 13:23:36.331 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:23:36.332 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/client application/json 193 - 201 190 application/json;+charset=utf-8 234.0690ms
2022-08-25 13:25:06.471 +01:00 INF] application starting
2022-08-25 13:25:06.794 +01:00 INF] Now listening on: https://localhost:7000
2022-08-25 13:25:06.796 +01:00 INF] Now listening on: http://localhost:5008
2022-08-25 13:25:06.799 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-25 13:25:06.799 +01:00 INF] Hosting environment: Development
2022-08-25 13:25:06.799 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-25 13:25:28.092 +01:00 INF] application starting
2022-08-25 13:25:28.394 +01:00 INF] Now listening on: https://localhost:7000
2022-08-25 13:25:28.397 +01:00 INF] Now listening on: http://localhost:5008
2022-08-25 13:25:28.399 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-25 13:25:28.399 +01:00 INF] Hosting environment: Development
2022-08-25 13:25:28.399 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-25 13:25:49.730 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:25:50.356 +01:00 INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:25:50.382 +01:00 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:25:50.391 +01:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:25:50.395 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:25:50.396 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:25:50.397 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:25:50.398 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:25:50.400 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:25:50.411 +01:00 INF] Reverting migration '20220825122155_update2'.
2022-08-25 13:25:50.452 +01:00 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20220825122155_update2';
2022-08-25 13:25:56.100 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:25:56.613 +01:00 INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:25:56.634 +01:00 INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:25:56.641 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:25:56.645 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:25:56.646 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:25:56.647 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:25:56.649 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:25:56.650 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:25:56.662 +01:00 INF] Reverting migration '20220816173046_update1'.
2022-08-25 13:25:56.744 +01:00 INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] DROP CONSTRAINT [FK_Addresses_Clients_ClientId];
2022-08-25 13:25:56.758 +01:00 INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Addresses_ClientId] ON [Addresses];
2022-08-25 13:25:56.782 +01:00 INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Addresses]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2022-08-25 13:25:56.798 +01:00 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Clients]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2022-08-25 13:25:56.856 +01:00 INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'Ranting');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Products] DROP COLUMN [Ranting];
2022-08-25 13:25:56.866 +01:00 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Addresses]') AND [c].[name] = N'ClientId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Addresses] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Addresses] DROP COLUMN [ClientId];
2022-08-25 13:25:56.872 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stores] ADD [AddressId] int NOT NULL DEFAULT 0;
2022-08-25 13:25:56.881 +01:00 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Clients] ADD [AddressId] int NOT NULL DEFAULT 0;
2022-08-25 13:25:56.890 +01:00 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Stores_AddressId] ON [Stores] ([AddressId]);
2022-08-25 13:25:56.912 +01:00 INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Clients_AddressId] ON [Clients] ([AddressId]);
2022-08-25 13:25:56.920 +01:00 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Clients] ADD CONSTRAINT [FK_Clients_Addresses_AddressId] FOREIGN KEY ([AddressId]) REFERENCES [Addresses] ([Id]) ON DELETE CASCADE;
2022-08-25 13:25:56.924 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stores] ADD CONSTRAINT [FK_Stores_Addresses_AddressId] FOREIGN KEY ([AddressId]) REFERENCES [Addresses] ([Id]) ON DELETE CASCADE;
2022-08-25 13:25:56.926 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20220816173046_update1';
2022-08-25 13:26:09.084 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:26:18.734 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:26:19.040 +01:00 INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:26:19.064 +01:00 INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:26:19.069 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:26:19.071 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:26:19.086 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:26:19.099 +01:00 INF] Applying migration '20220825122609_update1'.
2022-08-25 13:26:19.206 +01:00 INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Clients] DROP CONSTRAINT [FK_Clients_Addresses_AddressId];
2022-08-25 13:26:19.211 +01:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stores] DROP CONSTRAINT [FK_Stores_Addresses_AddressId];
2022-08-25 13:26:19.216 +01:00 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Stores_AddressId] ON [Stores];
2022-08-25 13:26:19.219 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Clients_AddressId] ON [Clients];
2022-08-25 13:26:19.233 +01:00 INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Stores]') AND [c].[name] = N'AddressId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Stores] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Stores] DROP COLUMN [AddressId];
2022-08-25 13:26:19.251 +01:00 INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Clients]') AND [c].[name] = N'AddressId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Clients] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Clients] DROP COLUMN [AddressId];
2022-08-25 13:26:19.258 +01:00 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Products] ADD [Ranting] float NOT NULL DEFAULT 0.0E0;
2022-08-25 13:26:19.269 +01:00 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] ADD [ClientId] int NOT NULL DEFAULT 0;
2022-08-25 13:26:19.278 +01:00 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Addresses_ClientId] ON [Addresses] ([ClientId]);
2022-08-25 13:26:19.285 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] ADD CONSTRAINT [FK_Addresses_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE;
2022-08-25 13:26:19.288 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220825122609_update1', N'6.0.8');
2022-08-25 13:28:54.505 +01:00 INF] application starting
2022-08-25 13:28:54.774 +01:00 INF] Now listening on: https://localhost:7000
2022-08-25 13:28:54.777 +01:00 INF] Now listening on: http://localhost:5008
2022-08-25 13:28:54.779 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-25 13:28:54.779 +01:00 INF] Hosting environment: Development
2022-08-25 13:28:54.779 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-25 13:29:07.541 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:29:07.971 +01:00 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:29:07.999 +01:00 INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:29:08.012 +01:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:29:08.017 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:29:08.019 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:29:08.021 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:29:08.023 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:29:08.026 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:29:08.039 +01:00 INF] Reverting migration '20220825122609_update1'.
2022-08-25 13:29:08.123 +01:00 INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] DROP CONSTRAINT [FK_Addresses_Clients_ClientId];
2022-08-25 13:29:08.132 +01:00 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Addresses_ClientId] ON [Addresses];
2022-08-25 13:29:08.155 +01:00 INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'Ranting');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Products] DROP COLUMN [Ranting];
2022-08-25 13:29:08.165 +01:00 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Addresses]') AND [c].[name] = N'ClientId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Addresses] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Addresses] DROP COLUMN [ClientId];
2022-08-25 13:29:08.174 +01:00 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stores] ADD [AddressId] int NOT NULL DEFAULT 0;
2022-08-25 13:29:08.220 +01:00 INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Clients] ADD [AddressId] int NOT NULL DEFAULT 0;
2022-08-25 13:29:08.231 +01:00 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Stores_AddressId] ON [Stores] ([AddressId]);
2022-08-25 13:29:08.254 +01:00 INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Clients_AddressId] ON [Clients] ([AddressId]);
2022-08-25 13:29:08.261 +01:00 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Clients] ADD CONSTRAINT [FK_Clients_Addresses_AddressId] FOREIGN KEY ([AddressId]) REFERENCES [Addresses] ([Id]) ON DELETE CASCADE;
2022-08-25 13:29:08.264 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stores] ADD CONSTRAINT [FK_Stores_Addresses_AddressId] FOREIGN KEY ([AddressId]) REFERENCES [Addresses] ([Id]) ON DELETE CASCADE;
2022-08-25 13:29:08.267 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20220825122609_update1';
2022-08-25 13:29:18.772 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:29:27.713 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:29:27.997 +01:00 INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:29:28.018 +01:00 INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:29:28.022 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:29:28.023 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:29:28.034 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:29:28.047 +01:00 INF] Applying migration '20220825122918_update1'.
2022-08-25 13:29:28.109 +01:00 INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Clients] DROP CONSTRAINT [FK_Clients_Addresses_AddressId];
2022-08-25 13:29:28.112 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stores] DROP CONSTRAINT [FK_Stores_Addresses_AddressId];
2022-08-25 13:29:28.117 +01:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Stores_AddressId] ON [Stores];
2022-08-25 13:29:28.119 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Clients_AddressId] ON [Clients];
2022-08-25 13:29:28.122 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] DROP CONSTRAINT [CheckCity];
2022-08-25 13:29:28.132 +01:00 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Stores]') AND [c].[name] = N'AddressId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Stores] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Stores] DROP COLUMN [AddressId];
2022-08-25 13:29:28.141 +01:00 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Clients]') AND [c].[name] = N'AddressId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Clients] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Clients] DROP COLUMN [AddressId];
2022-08-25 13:29:28.147 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Products] ADD [Ranting] float NOT NULL DEFAULT 0.0E0;
2022-08-25 13:29:28.157 +01:00 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] ADD [ClientId] int NOT NULL DEFAULT 0;
2022-08-25 13:29:28.167 +01:00 INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Addresses_ClientId] ON [Addresses] ([ClientId]);
2022-08-25 13:29:28.176 +01:00 ERR] Failed executing DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] ADD CONSTRAINT [CheckCity] CHECK ([City] in ['Casa','Rabat','Marakech','Tanger','Fes']);
2022-08-25 13:36:03.958 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:36:04.514 +01:00 INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:36:04.543 +01:00 INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:36:04.557 +01:00 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:36:12.971 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:36:19.908 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:36:20.235 +01:00 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:36:20.259 +01:00 INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:36:20.263 +01:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-08-25 13:36:20.264 +01:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-08-25 13:36:20.277 +01:00 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-08-25 13:36:20.289 +01:00 INF] Applying migration '20220825123613_update1'.
2022-08-25 13:36:20.444 +01:00 INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Clients] DROP CONSTRAINT [FK_Clients_Addresses_AddressId];
2022-08-25 13:36:20.463 +01:00 INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stores] DROP CONSTRAINT [FK_Stores_Addresses_AddressId];
2022-08-25 13:36:20.479 +01:00 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Stores_AddressId] ON [Stores];
2022-08-25 13:36:20.483 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Clients_AddressId] ON [Clients];
2022-08-25 13:36:20.486 +01:00 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] DROP CONSTRAINT [CheckCity];
2022-08-25 13:36:20.516 +01:00 INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Stores]') AND [c].[name] = N'AddressId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Stores] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Stores] DROP COLUMN [AddressId];
2022-08-25 13:36:20.525 +01:00 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Clients]') AND [c].[name] = N'AddressId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Clients] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Clients] DROP COLUMN [AddressId];
2022-08-25 13:36:20.543 +01:00 INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Products] ADD [Ranting] float NOT NULL DEFAULT 0.0E0;
2022-08-25 13:36:20.603 +01:00 INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] ADD [ClientId] int NOT NULL DEFAULT 0;
2022-08-25 13:36:20.643 +01:00 INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Addresses_ClientId] ON [Addresses] ([ClientId]);
2022-08-25 13:36:20.666 +01:00 INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] ADD CONSTRAINT [CheckCity] CHECK ([City] in ('Casa','Rabat','Marakech','Tanger','Fes'));
2022-08-25 13:36:20.672 +01:00 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] ADD CONSTRAINT [CheckZipCode] CHECK ([ZipCode] > 10000);
2022-08-25 13:36:20.701 +01:00 INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Addresses] ADD CONSTRAINT [FK_Addresses_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE;
2022-08-25 13:36:20.706 +01:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220825123613_update1', N'6.0.8');
2022-08-25 13:36:37.982 +01:00 INF] application starting
2022-08-25 13:36:38.300 +01:00 INF] Now listening on: https://localhost:7000
2022-08-25 13:36:38.303 +01:00 INF] Now listening on: http://localhost:5008
2022-08-25 13:36:38.305 +01:00 INF] Application started. Press Ctrl+C to shut down.
2022-08-25 13:36:38.305 +01:00 INF] Hosting environment: Development
2022-08-25 13:36:38.305 +01:00 INF] Content root path: /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/
2022-08-25 13:36:40.446 +01:00 INF] Request starting HTTP/1.1 POST https://localhost:7000/api/client application/json 193
2022-08-25 13:36:40.481 +01:00 INF] Executing endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:36:40.503 +01:00 INF] Route matched with {action = "CreateClient", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClient(test6.Models.DTO.CreateClientDTO) on controller test6.Controllers.ClientController (test6).
2022-08-25 13:36:41.881 +01:00 INF] Entity Framework Core 6.0.8 initialized 'DBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-25 13:36:42.642 +01:00 INF] Executed DbCommand (154ms) [Parameters=[@p0='?' (Size = 60), @p1='?' (Size = 30), @p2='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clients] ([EmailAddress], [FirstName], [LastName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Clients]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:36:42.757 +01:00 ERR] Failed executing DbCommand (56ms) [Parameters=[@p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [ClientId], [Country], [ZipCode])
VALUES (@p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Addresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-25 13:36:42.809 +01:00 ERR] An exception occurred in the database while saving changes for context type 'test6.DB.DBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the CHECK constraint "CheckCity". The conflict occurred in database "Store2", table "dbo.Addresses", column 'City'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3a5bf2db-68ba-45ae-98a3-e93ba8017ec6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the CHECK constraint "CheckCity". The conflict occurred in database "Store2", table "dbo.Addresses", column 'City'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3a5bf2db-68ba-45ae-98a3-e93ba8017ec6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-25 13:36:42.934 +01:00 INF] Executed action test6.Controllers.ClientController.CreateClient (test6) in 2426.7501ms
2022-08-25 13:36:42.936 +01:00 INF] Executed endpoint 'test6.Controllers.ClientController.CreateClient (test6)'
2022-08-25 13:36:42.939 +01:00 ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the CHECK constraint "CheckCity". The conflict occurred in database "Store2", table "dbo.Addresses", column 'City'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3a5bf2db-68ba-45ae-98a3-e93ba8017ec6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at test6.Services.IUnitOfWork.UnitOfWork.Save() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/IUnitOfWork/UnitOfWork.cs:line 39
   at test6.Controllers.ClientController.CreateClient(CreateClientDTO createClientDTO) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:36:42.950 +01:00 ERR] Something Went Wrong in the Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the CHECK constraint "CheckCity". The conflict occurred in database "Store2", table "dbo.Addresses", column 'City'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3a5bf2db-68ba-45ae-98a3-e93ba8017ec6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at test6.Services.IUnitOfWork.UnitOfWork.Save() in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Services/IUnitOfWork/UnitOfWork.cs:line 39
   at test6.Controllers.ClientController.CreateClient(CreateClientDTO createClientDTO) in /Users/aymanehinane/Desktop/Asp.net-Core-web-api/test6/test6/Controllers/ClientController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-08-25 13:36:42.985 +01:00 INF] Request finished HTTP/1.1 POST https://localhost:7000/api/client application/json 193 - 500 - application/json 2541.7759ms
